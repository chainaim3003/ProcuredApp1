"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./contexts/PasskeyWalletContext.tsx":
/*!*******************************************!*\
  !*** ./contexts/PasskeyWalletContext.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PasskeyWalletProvider: function() { return /* binding */ PasskeyWalletProvider; },\n/* harmony export */   usePasskeyWallet: function() { return /* binding */ usePasskeyWallet; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _VLEIContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VLEIContext */ \"(app-pages-browser)/./contexts/VLEIContext.tsx\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ usePasskeyWallet,PasskeyWalletProvider auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst PasskeyWalletContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction usePasskeyWallet() {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PasskeyWalletContext);\n    if (context === undefined) {\n        throw new Error(\"usePasskeyWallet must be used within a PasskeyWalletProvider\");\n    }\n    return context;\n}\n_s(usePasskeyWallet, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction PasskeyWalletProvider(param) {\n    let { children } = param;\n    _s1();\n    const { vlei, verifyCredentials } = (0,_VLEIContext__WEBPACK_IMPORTED_MODULE_2__.useVLEI)();\n    const [wallet, setWallet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isConnected: false,\n        address: null,\n        contractId: null,\n        role: null,\n        credentials: null,\n        error: null,\n        loading: false\n    });\n    const [passkeyService, setPasskeyService] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const connectWallet = async (role)=>{\n        try {\n            setWallet((prev)=>({\n                    ...prev,\n                    error: null,\n                    loading: true\n                }));\n            // Use mock implementation for now (Phase 2 will use real implementation when packages are stable)\n            const mockModule = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_lib_mock-passkey-kit_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/lib/mock-passkey-kit */ \"(app-pages-browser)/./lib/mock-passkey-kit.ts\"));\n            const PasskeyService = mockModule.PasskeyKit;\n            const getDefaultStellarConfig = ()=>({\n                    rpcUrl: process.env.NEXT_PUBLIC_RPC_URL || \"https://soroban-testnet.stellar.org\",\n                    networkPassphrase: process.env.NEXT_PUBLIC_NETWORK_PASSPHRASE || \"Test SDF Network ; September 2015\",\n                    factoryContractId: process.env.NEXT_PUBLIC_FACTORY_CONTRACT_ID || \"CCWJFJ7YQHZ3QH2GQYQZQZQZQZQZQZQZQZQZQZQZQZQZQZQ\"\n                });\n            // Create PasskeyService instance\n            const config = getDefaultStellarConfig();\n            const service = new PasskeyService(config);\n            setPasskeyService(service);\n            // Connect to wallet\n            const contractId = await service.connectWallet({\n                name: role === \"buyer\" ? \"John Doe - TechCorp CFO\" : \"Jane Smith - SupplierCo Sales\",\n                description: \"Procurement wallet with vLEI credentials\"\n            });\n            const address = service.getAddress();\n            // Verify vLEI credentials\n            let credentials = null;\n            if (vlei.isInitialized) {\n                try {\n                    credentials = await verifyCredentials(role);\n                } catch (error) {\n                    console.warn(\"vLEI credential verification failed:\", error);\n                // Continue without credentials for now\n                }\n            }\n            setWallet({\n                isConnected: true,\n                address,\n                contractId,\n                role,\n                credentials,\n                error: null,\n                loading: false\n            });\n            // Store in localStorage for persistence\n            localStorage.setItem(\"passkeyWalletState\", JSON.stringify({\n                isConnected: true,\n                address,\n                contractId,\n                role,\n                credentials\n            }));\n            console.log(\"✅ \".concat(role, \" wallet connected successfully\"));\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Failed to connect wallet\";\n            setWallet((prev)=>({\n                    ...prev,\n                    error: errorMessage,\n                    loading: false\n                }));\n            console.error(\"❌ Wallet connection failed:\", error);\n        }\n    };\n    const disconnectWallet = ()=>{\n        try {\n            if (passkeyService && typeof passkeyService.disconnect === \"function\") {\n                passkeyService.disconnect();\n            }\n        } catch (error) {\n            console.warn(\"Error during wallet disconnect:\", error);\n        }\n        setWallet({\n            isConnected: false,\n            address: null,\n            contractId: null,\n            role: null,\n            credentials: null,\n            error: null,\n            loading: false\n        });\n        setPasskeyService(null);\n        localStorage.removeItem(\"passkeyWalletState\");\n        console.log(\"\\uD83D\\uDD0C Wallet disconnected\");\n    };\n    const switchRole = async (role)=>{\n        if (wallet.isConnected) {\n            await connectWallet(role);\n        }\n    };\n    const executeTransaction = async (params)=>{\n        if (!passkeyService || !wallet.isConnected) {\n            throw new Error(\"Wallet not connected\");\n        }\n        try {\n            setWallet((prev)=>({\n                    ...prev,\n                    loading: true,\n                    error: null\n                }));\n            const result = await passkeyService.executeTransaction(params);\n            setWallet((prev)=>({\n                    ...prev,\n                    loading: false\n                }));\n            return result;\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Transaction failed\";\n            setWallet((prev)=>({\n                    ...prev,\n                    error: errorMessage,\n                    loading: false\n                }));\n            throw error;\n        }\n    };\n    const getAccountInfo = async ()=>{\n        if (!passkeyService || !wallet.isConnected) {\n            throw new Error(\"Wallet not connected\");\n        }\n        return await passkeyService.getAccountInfo();\n    };\n    // Restore wallet state on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const savedState = localStorage.getItem(\"passkeyWalletState\");\n        if (savedState) {\n            try {\n                const parsed = JSON.parse(savedState);\n                if (parsed.isConnected && parsed.role) {\n                    // Don't auto-connect, just restore the state\n                    setWallet((prev)=>({\n                            ...prev,\n                            ...parsed,\n                            loading: false,\n                            error: null\n                        }));\n                }\n            } catch (error) {\n                console.error(\"Failed to restore wallet state:\", error);\n                localStorage.removeItem(\"passkeyWalletState\");\n            }\n        }\n    }, []);\n    // Update credentials when vLEI is initialized and credentials are available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (vlei.isInitialized && wallet.isConnected && wallet.role) {\n            // Check if credentials are available before trying to verify\n            const hasCredentials = wallet.role === \"buyer\" ? vlei.credentials.john && vlei.credentials.techcorp : vlei.credentials.jane && vlei.credentials.supplierco;\n            if (hasCredentials) {\n                verifyCredentials(wallet.role).then((credentials)=>{\n                    setWallet((prev)=>({\n                            ...prev,\n                            credentials\n                        }));\n                }).catch((error)=>{\n                    console.warn(\"Failed to update credentials:\", error);\n                });\n            } else {\n                // Use mock credentials if real ones aren't available yet\n                const mockCredentials = {\n                    valid: true,\n                    orgLEI: wallet.role === \"buyer\" ? \"506700GE1G29325QX363\" : \"549300XOCUZD4EMKGY96\",\n                    personName: wallet.role === \"buyer\" ? \"John Doe\" : \"Jane Smith\",\n                    role: wallet.role === \"buyer\" ? \"Procurement Manager\" : \"Contract Signer\",\n                    spendingLimit: wallet.role === \"buyer\" ? 100000 : 500000,\n                    maxContractValue: wallet.role === \"buyer\" ? 100000 : 500000,\n                    details: {\n                        orgName: wallet.role === \"buyer\" ? \"TechCorp Inc.\" : \"SupplierCo LLC\",\n                        lei: wallet.role === \"buyer\" ? \"506700GE1G29325QX363\" : \"549300XOCUZD4EMKGY96\",\n                        personName: wallet.role === \"buyer\" ? \"John Doe\" : \"Jane Smith\",\n                        role: wallet.role === \"buyer\" ? \"Procurement Manager\" : \"Contract Signer\",\n                        spendingLimit: wallet.role === \"buyer\" ? 100000 : 500000,\n                        maxContractValue: wallet.role === \"buyer\" ? 100000 : 500000\n                    }\n                };\n                setWallet((prev)=>({\n                        ...prev,\n                        credentials: mockCredentials\n                    }));\n            }\n        }\n    }, [\n        vlei.isInitialized,\n        wallet.isConnected,\n        wallet.role,\n        vlei.credentials\n    ]);\n    const value = {\n        wallet,\n        connectWallet,\n        disconnectWallet,\n        switchRole,\n        executeTransaction,\n        getAccountInfo\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PasskeyWalletContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/amanpal/Desktop/Stellar-Smart Contract-Wallets/contexts/PasskeyWalletContext.tsx\",\n        lineNumber: 250,\n        columnNumber: 5\n    }, this);\n}\n_s1(PasskeyWalletProvider, \"LgI1+g3DTq8nAWsUs9BBnVbs2c0=\", false, function() {\n    return [\n        _VLEIContext__WEBPACK_IMPORTED_MODULE_2__.useVLEI\n    ];\n});\n_c = PasskeyWalletProvider;\nvar _c;\n$RefreshReg$(_c, \"PasskeyWalletProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbnRleHRzL1Bhc3NrZXlXYWxsZXRDb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFd0Y7QUFDakQ7QUFzQnZDLE1BQU1NLHFDQUF1Qkwsb0RBQWFBLENBQXVDTTtBQUUxRSxTQUFTQzs7SUFDZCxNQUFNQyxVQUFVUCxpREFBVUEsQ0FBQ0k7SUFDM0IsSUFBSUcsWUFBWUYsV0FBVztRQUN6QixNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNUO0dBTmdCRDtBQVlULFNBQVNHLHNCQUFzQixLQUF3QztRQUF4QyxFQUFFQyxRQUFRLEVBQThCLEdBQXhDOztJQUNwQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsaUJBQWlCLEVBQUUsR0FBR1QscURBQU9BO0lBQzNDLE1BQU0sQ0FBQ1UsUUFBUUMsVUFBVSxHQUFHYiwrQ0FBUUEsQ0FBcUI7UUFDdkRjLGFBQWE7UUFDYkMsU0FBUztRQUNUQyxZQUFZO1FBQ1pDLE1BQU07UUFDTkMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUVBLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR3RCLCtDQUFRQSxDQUF3QjtJQUU1RSxNQUFNdUIsZ0JBQWdCLE9BQU9OO1FBQzNCLElBQUk7WUFDRkosVUFBVVcsQ0FBQUEsT0FBUztvQkFBRSxHQUFHQSxJQUFJO29CQUFFTCxPQUFPO29CQUFNQyxTQUFTO2dCQUFLO1lBRXpELGtHQUFrRztZQUNsRyxNQUFNSyxhQUFhLE1BQU0sc05BQU87WUFDaEMsTUFBTUMsaUJBQWlCRCxXQUFXRSxVQUFVO1lBQzVDLE1BQU1DLDBCQUEwQixJQUFPO29CQUNyQ0MsUUFBUUMsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyxtQkFBbUIsSUFBSTtvQkFDM0NDLG1CQUFtQkgsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDRyw4QkFBOEIsSUFBSTtvQkFDakVDLG1CQUFtQkwsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDSywrQkFB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YWxsZXRDb250ZXh0LnRzeD9mZjE3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VWTEVJIH0gZnJvbSAnLi9WTEVJQ29udGV4dCdcbmltcG9ydCB7IFBhc3NrZXlBdXRoZW50aWNhdG9yLCBjcmVhdGVQYXNza2V5QXV0aGVudGljYXRvciwgZ2V0RGVmYXVsdFBhc3NrZXlDb25maWcgfSBmcm9tICdAL2xpYi9wYXNza2V5LWF1dGgnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFzc2tleVdhbGxldFN0YXRlIHtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW5cbiAgYWRkcmVzczogc3RyaW5nIHwgbnVsbFxuICBjb250cmFjdElkOiBzdHJpbmcgfCBudWxsXG4gIHJvbGU6ICdidXllcicgfCAnc2VsbGVyJyB8IG51bGxcbiAgY3JlZGVudGlhbHM6IGFueSB8IG51bGxcbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcbiAgbG9hZGluZzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgUGFzc2tleVdhbGxldENvbnRleHRUeXBlIHtcbiAgd2FsbGV0OiBQYXNza2V5V2FsbGV0U3RhdGVcbiAgY29ubmVjdFdhbGxldDogKHJvbGU6ICdidXllcicgfCAnc2VsbGVyJykgPT4gUHJvbWlzZTx2b2lkPlxuICBkaXNjb25uZWN0V2FsbGV0OiAoKSA9PiB2b2lkXG4gIHN3aXRjaFJvbGU6IChyb2xlOiAnYnV5ZXInIHwgJ3NlbGxlcicpID0+IHZvaWRcbiAgZXhlY3V0ZVRyYW5zYWN0aW9uOiAocGFyYW1zOiBhbnkpID0+IFByb21pc2U8YW55PlxuICBnZXRBY2NvdW50SW5mbzogKCkgPT4gUHJvbWlzZTxhbnk+XG59XG5cbmNvbnN0IFBhc3NrZXlXYWxsZXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxQYXNza2V5V2FsbGV0Q29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhc3NrZXlXYWxsZXQoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFBhc3NrZXlXYWxsZXRDb250ZXh0KVxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VQYXNza2V5V2FsbGV0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBQYXNza2V5V2FsbGV0UHJvdmlkZXInKVxuICB9XG4gIHJldHVybiBjb250ZXh0XG59XG5cbmludGVyZmFjZSBQYXNza2V5V2FsbGV0UHJvdmlkZXJQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhc3NrZXlXYWxsZXRQcm92aWRlcih7IGNoaWxkcmVuIH06IFBhc3NrZXlXYWxsZXRQcm92aWRlclByb3BzKSB7XG4gIGNvbnN0IHsgdmxlaSwgdmVyaWZ5Q3JlZGVudGlhbHMgfSA9IHVzZVZMRUkoKVxuICBjb25zdCBbd2FsbGV0LCBzZXRXYWxsZXRdID0gdXNlU3RhdGU8UGFzc2tleVdhbGxldFN0YXRlPih7XG4gICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgIGFkZHJlc3M6IG51bGwsXG4gICAgY29udHJhY3RJZDogbnVsbCxcbiAgICByb2xlOiBudWxsLFxuICAgIGNyZWRlbnRpYWxzOiBudWxsLFxuICAgIGVycm9yOiBudWxsLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICB9KVxuXG4gIGNvbnN0IFtwYXNza2V5U2VydmljZSwgc2V0UGFzc2tleVNlcnZpY2VdID0gdXNlU3RhdGU8UGFzc2tleVNlcnZpY2UgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IGNvbm5lY3RXYWxsZXQgPSBhc3luYyAocm9sZTogJ2J1eWVyJyB8ICdzZWxsZXInKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldFdhbGxldChwcmV2ID0+ICh7IC4uLnByZXYsIGVycm9yOiBudWxsLCBsb2FkaW5nOiB0cnVlIH0pKVxuXG4gICAgICAvLyBVc2UgbW9jayBpbXBsZW1lbnRhdGlvbiBmb3Igbm93IChQaGFzZSAyIHdpbGwgdXNlIHJlYWwgaW1wbGVtZW50YXRpb24gd2hlbiBwYWNrYWdlcyBhcmUgc3RhYmxlKVxuICAgICAgY29uc3QgbW9ja01vZHVsZSA9IGF3YWl0IGltcG9ydCgnQC9saWIvbW9jay1wYXNza2V5LWtpdCcpXG4gICAgICBjb25zdCBQYXNza2V5U2VydmljZSA9IG1vY2tNb2R1bGUuUGFzc2tleUtpdFxuICAgICAgY29uc3QgZ2V0RGVmYXVsdFN0ZWxsYXJDb25maWcgPSAoKSA9PiAoe1xuICAgICAgICBycGNVcmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1JQQ19VUkwgfHwgJ2h0dHBzOi8vc29yb2Jhbi10ZXN0bmV0LnN0ZWxsYXIub3JnJyxcbiAgICAgICAgbmV0d29ya1Bhc3NwaHJhc2U6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05FVFdPUktfUEFTU1BIUkFTRSB8fCAnVGVzdCBTREYgTmV0d29yayA7IFNlcHRlbWJlciAyMDE1JyxcbiAgICAgICAgZmFjdG9yeUNvbnRyYWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZBQ1RPUllfQ09OVFJBQ1RfSUQgfHwgJ0NDV0pGSjdZUUhaM1FIMkdRWVFaUVpRWlFaUVpRWlFaUVpRWlFaUVpRWlFaUVpRJ1xuICAgICAgfSlcblxuICAgICAgLy8gQ3JlYXRlIFBhc3NrZXlTZXJ2aWNlIGluc3RhbmNlXG4gICAgICBjb25zdCBjb25maWcgPSBnZXREZWZhdWx0U3RlbGxhckNvbmZpZygpXG4gICAgICBjb25zdCBzZXJ2aWNlID0gbmV3IFBhc3NrZXlTZXJ2aWNlKGNvbmZpZylcbiAgICAgIHNldFBhc3NrZXlTZXJ2aWNlKHNlcnZpY2UpXG5cbiAgICAgIC8vIENvbm5lY3QgdG8gd2FsbGV0XG4gICAgICBjb25zdCBjb250cmFjdElkID0gYXdhaXQgc2VydmljZS5jb25uZWN0V2FsbGV0KHtcbiAgICAgICAgbmFtZTogcm9sZSA9PT0gJ2J1eWVyJyA/ICdKb2huIERvZSAtIFRlY2hDb3JwIENGTycgOiAnSmFuZSBTbWl0aCAtIFN1cHBsaWVyQ28gU2FsZXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2N1cmVtZW50IHdhbGxldCB3aXRoIHZMRUkgY3JlZGVudGlhbHMnLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgYWRkcmVzcyA9IHNlcnZpY2UuZ2V0QWRkcmVzcygpXG5cbiAgICAgIC8vIFZlcmlmeSB2TEVJIGNyZWRlbnRpYWxzXG4gICAgICBsZXQgY3JlZGVudGlhbHMgPSBudWxsXG4gICAgICBpZiAodmxlaS5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY3JlZGVudGlhbHMgPSBhd2FpdCB2ZXJpZnlDcmVkZW50aWFscyhyb2xlKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybigndkxFSSBjcmVkZW50aWFsIHZlcmlmaWNhdGlvbiBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCBjcmVkZW50aWFscyBmb3Igbm93XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0V2FsbGV0KHtcbiAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIGNvbnRyYWN0SWQsXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB9KVxuXG4gICAgICAvLyBTdG9yZSBpbiBsb2NhbFN0b3JhZ2UgZm9yIHBlcnNpc3RlbmNlXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFzc2tleVdhbGxldFN0YXRlJywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgY29udHJhY3RJZCxcbiAgICAgICAgcm9sZSxcbiAgICAgICAgY3JlZGVudGlhbHMsXG4gICAgICB9KSlcblxuICAgICAgY29uc29sZS5sb2coYOKchSAke3JvbGV9IHdhbGxldCBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5YClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGNvbm5lY3Qgd2FsbGV0J1xuICAgICAgc2V0V2FsbGV0KHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB9KSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXYWxsZXQgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZGlzY29ubmVjdFdhbGxldCA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBhc3NrZXlTZXJ2aWNlICYmIHR5cGVvZiBwYXNza2V5U2VydmljZS5kaXNjb25uZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBhc3NrZXlTZXJ2aWNlLmRpc2Nvbm5lY3QoKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGR1cmluZyB3YWxsZXQgZGlzY29ubmVjdDonLCBlcnJvcilcbiAgICB9XG4gICAgXG4gICAgc2V0V2FsbGV0KHtcbiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICAgIGFkZHJlc3M6IG51bGwsXG4gICAgICBjb250cmFjdElkOiBudWxsLFxuICAgICAgcm9sZTogbnVsbCxcbiAgICAgIGNyZWRlbnRpYWxzOiBudWxsLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICB9KVxuICAgIFxuICAgIHNldFBhc3NrZXlTZXJ2aWNlKG51bGwpXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bhc3NrZXlXYWxsZXRTdGF0ZScpXG4gICAgY29uc29sZS5sb2coJ/CflIwgV2FsbGV0IGRpc2Nvbm5lY3RlZCcpXG4gIH1cblxuICBjb25zdCBzd2l0Y2hSb2xlID0gYXN5bmMgKHJvbGU6ICdidXllcicgfCAnc2VsbGVyJykgPT4ge1xuICAgIGlmICh3YWxsZXQuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGF3YWl0IGNvbm5lY3RXYWxsZXQocm9sZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBleGVjdXRlVHJhbnNhY3Rpb24gPSBhc3luYyAocGFyYW1zOiBhbnkpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGlmICghcGFzc2tleVNlcnZpY2UgfHwgIXdhbGxldC5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYWxsZXQgbm90IGNvbm5lY3RlZCcpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldFdhbGxldChwcmV2ID0+ICh7IC4uLnByZXYsIGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pKVxuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYXNza2V5U2VydmljZS5leGVjdXRlVHJhbnNhY3Rpb24ocGFyYW1zKVxuICAgICAgXG4gICAgICBzZXRXYWxsZXQocHJldiA9PiAoeyAuLi5wcmV2LCBsb2FkaW5nOiBmYWxzZSB9KSlcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVHJhbnNhY3Rpb24gZmFpbGVkJ1xuICAgICAgc2V0V2FsbGV0KHByZXYgPT4gKHsgLi4ucHJldiwgZXJyb3I6IGVycm9yTWVzc2FnZSwgbG9hZGluZzogZmFsc2UgfSkpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldEFjY291bnRJbmZvID0gYXN5bmMgKCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKCFwYXNza2V5U2VydmljZSB8fCAhd2FsbGV0LmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBub3QgY29ubmVjdGVkJylcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcGFzc2tleVNlcnZpY2UuZ2V0QWNjb3VudEluZm8oKVxuICB9XG5cbiAgLy8gUmVzdG9yZSB3YWxsZXQgc3RhdGUgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bhc3NrZXlXYWxsZXRTdGF0ZScpXG4gICAgaWYgKHNhdmVkU3RhdGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc2F2ZWRTdGF0ZSlcbiAgICAgICAgaWYgKHBhcnNlZC5pc0Nvbm5lY3RlZCAmJiBwYXJzZWQucm9sZSkge1xuICAgICAgICAgIC8vIERvbid0IGF1dG8tY29ubmVjdCwganVzdCByZXN0b3JlIHRoZSBzdGF0ZVxuICAgICAgICAgIHNldFdhbGxldChwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgLi4ucGFyc2VkLFxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlc3RvcmUgd2FsbGV0IHN0YXRlOicsIGVycm9yKVxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGFzc2tleVdhbGxldFN0YXRlJylcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIFVwZGF0ZSBjcmVkZW50aWFscyB3aGVuIHZMRUkgaXMgaW5pdGlhbGl6ZWQgYW5kIGNyZWRlbnRpYWxzIGFyZSBhdmFpbGFibGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmxlaS5pc0luaXRpYWxpemVkICYmIHdhbGxldC5pc0Nvbm5lY3RlZCAmJiB3YWxsZXQucm9sZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgY3JlZGVudGlhbHMgYXJlIGF2YWlsYWJsZSBiZWZvcmUgdHJ5aW5nIHRvIHZlcmlmeVxuICAgICAgY29uc3QgaGFzQ3JlZGVudGlhbHMgPSB3YWxsZXQucm9sZSA9PT0gJ2J1eWVyJyBcbiAgICAgICAgPyAodmxlaS5jcmVkZW50aWFscy5qb2huICYmIHZsZWkuY3JlZGVudGlhbHMudGVjaGNvcnApXG4gICAgICAgIDogKHZsZWkuY3JlZGVudGlhbHMuamFuZSAmJiB2bGVpLmNyZWRlbnRpYWxzLnN1cHBsaWVyY28pXG4gICAgICBcbiAgICAgIGlmIChoYXNDcmVkZW50aWFscykge1xuICAgICAgICB2ZXJpZnlDcmVkZW50aWFscyh3YWxsZXQucm9sZSlcbiAgICAgICAgICAudGhlbihjcmVkZW50aWFscyA9PiB7XG4gICAgICAgICAgICBzZXRXYWxsZXQocHJldiA9PiAoeyAuLi5wcmV2LCBjcmVkZW50aWFscyB9KSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byB1cGRhdGUgY3JlZGVudGlhbHM6JywgZXJyb3IpXG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZSBtb2NrIGNyZWRlbnRpYWxzIGlmIHJlYWwgb25lcyBhcmVuJ3QgYXZhaWxhYmxlIHlldFxuICAgICAgICBjb25zdCBtb2NrQ3JlZGVudGlhbHMgPSB7XG4gICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgb3JnTEVJOiB3YWxsZXQucm9sZSA9PT0gJ2J1eWVyJyA/ICc1MDY3MDBHRTFHMjkzMjVRWDM2MycgOiAnNTQ5MzAwWE9DVVpENEVNS0dZOTYnLFxuICAgICAgICAgIHBlcnNvbk5hbWU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gJ0pvaG4gRG9lJyA6ICdKYW5lIFNtaXRoJyxcbiAgICAgICAgICByb2xlOiB3YWxsZXQucm9sZSA9PT0gJ2J1eWVyJyA/ICdQcm9jdXJlbWVudCBNYW5hZ2VyJyA6ICdDb250cmFjdCBTaWduZXInLFxuICAgICAgICAgIHNwZW5kaW5nTGltaXQ6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gMTAwMDAwIDogNTAwMDAwLFxuICAgICAgICAgIG1heENvbnRyYWN0VmFsdWU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gMTAwMDAwIDogNTAwMDAwLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIG9yZ05hbWU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gJ1RlY2hDb3JwIEluYy4nIDogJ1N1cHBsaWVyQ28gTExDJyxcbiAgICAgICAgICAgIGxlaTogd2FsbGV0LnJvbGUgPT09ICdidXllcicgPyAnNTA2NzAwR0UxRzI5MzI1UVgzNjMnIDogJzU0OTMwMFhPQ1VaRDRFTUtHWTk2JyxcbiAgICAgICAgICAgIHBlcnNvbk5hbWU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gJ0pvaG4gRG9lJyA6ICdKYW5lIFNtaXRoJyxcbiAgICAgICAgICAgIHJvbGU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gJ1Byb2N1cmVtZW50IE1hbmFnZXInIDogJ0NvbnRyYWN0IFNpZ25lcicsXG4gICAgICAgICAgICBzcGVuZGluZ0xpbWl0OiB3YWxsZXQucm9sZSA9PT0gJ2J1eWVyJyA/IDEwMDAwMCA6IDUwMDAwMCxcbiAgICAgICAgICAgIG1heENvbnRyYWN0VmFsdWU6IHdhbGxldC5yb2xlID09PSAnYnV5ZXInID8gMTAwMDAwIDogNTAwMDAwLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRXYWxsZXQocHJldiA9PiAoeyAuLi5wcmV2LCBjcmVkZW50aWFsczogbW9ja0NyZWRlbnRpYWxzIH0pKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3ZsZWkuaXNJbml0aWFsaXplZCwgd2FsbGV0LmlzQ29ubmVjdGVkLCB3YWxsZXQucm9sZSwgdmxlaS5jcmVkZW50aWFsc10pXG5cbiAgY29uc3QgdmFsdWU6IFBhc3NrZXlXYWxsZXRDb250ZXh0VHlwZSA9IHtcbiAgICB3YWxsZXQsXG4gICAgY29ubmVjdFdhbGxldCxcbiAgICBkaXNjb25uZWN0V2FsbGV0LFxuICAgIHN3aXRjaFJvbGUsXG4gICAgZXhlY3V0ZVRyYW5zYWN0aW9uLFxuICAgIGdldEFjY291bnRJbmZvLFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UGFzc2tleVdhbGxldENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1Bhc3NrZXlXYWxsZXRDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlVkxFSSIsIlBhc3NrZXlXYWxsZXRDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlUGFzc2tleVdhbGxldCIsImNvbnRleHQiLCJFcnJvciIsIlBhc3NrZXlXYWxsZXRQcm92aWRlciIsImNoaWxkcmVuIiwidmxlaSIsInZlcmlmeUNyZWRlbnRpYWxzIiwid2FsbGV0Iiwic2V0V2FsbGV0IiwiaXNDb25uZWN0ZWQiLCJhZGRyZXNzIiwiY29udHJhY3RJZCIsInJvbGUiLCJjcmVkZW50aWFscyIsImVycm9yIiwibG9hZGluZyIsInBhc3NrZXlTZXJ2aWNlIiwic2V0UGFzc2tleVNlcnZpY2UiLCJjb25uZWN0V2FsbGV0IiwicHJldiIsIm1vY2tNb2R1bGUiLCJQYXNza2V5U2VydmljZSIsIlBhc3NrZXlLaXQiLCJnZXREZWZhdWx0U3RlbGxhckNvbmZpZyIsInJwY1VybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19SUENfVVJMIiwibmV0d29ya1Bhc3NwaHJhc2UiLCJORVhUX1BVQkxJQ19ORVRXT1JLX1BBU1NQSFJBU0UiLCJmYWN0b3J5Q29udHJhY3RJZCIsIk5FWFRfUFVCTElDX0ZBQ1RPUllfQ09OVFJBQ1RfSUQiLCJjb25maWciLCJzZXJ2aWNlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZ2V0QWRkcmVzcyIsImlzSW5pdGlhbGl6ZWQiLCJjb25zb2xlIiwid2FybiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwibG9nIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImRpc2Nvbm5lY3RXYWxsZXQiLCJkaXNjb25uZWN0IiwicmVtb3ZlSXRlbSIsInN3aXRjaFJvbGUiLCJleGVjdXRlVHJhbnNhY3Rpb24iLCJwYXJhbXMiLCJyZXN1bHQiLCJnZXRBY2NvdW50SW5mbyIsInNhdmVkU3RhdGUiLCJnZXRJdGVtIiwicGFyc2VkIiwicGFyc2UiLCJoYXNDcmVkZW50aWFscyIsImpvaG4iLCJ0ZWNoY29ycCIsImphbmUiLCJzdXBwbGllcmNvIiwidGhlbiIsImNhdGNoIiwibW9ja0NyZWRlbnRpYWxzIiwidmFsaWQiLCJvcmdMRUkiLCJwZXJzb25OYW1lIiwic3BlbmRpbmdMaW1pdCIsIm1heENvbnRyYWN0VmFsdWUiLCJkZXRhaWxzIiwib3JnTmFtZSIsImxlaSIsInZhbHVlIiwiUHJvdmlkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./contexts/PasskeyWalletContext.tsx\n"));

/***/ })

});