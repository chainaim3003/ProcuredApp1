"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/real-data-service.ts":
/*!**********************************!*\
  !*** ./lib/real-data-service.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RealDataService: function() { return /* binding */ RealDataService; },\n/* harmony export */   realDataService: function() { return /* binding */ realDataService; }\n/* harmony export */ });\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ \"(app-pages-browser)/./lib/database.ts\");\n\nclass RealDataService {\n    // Purchase Order Management\n    async createPurchaseOrder(data) {\n        console.log(\"\\uD83D\\uDCDD Creating real purchase order:\", data);\n        const po = await _database__WEBPACK_IMPORTED_MODULE_0__.database.createPurchaseOrder({\n            ...data,\n            status: \"Created\"\n        });\n        // Auto-save to localStorage\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        console.log(\"✅ Purchase order created:\", po.id);\n        return po;\n    }\n    async getPurchaseOrders(userAddress, role) {\n        console.log(\"\\uD83D\\uDCCB Fetching purchase orders for \".concat(role, \":\"), userAddress);\n        if (role === \"buyer\") {\n            const user = await _database__WEBPACK_IMPORTED_MODULE_0__.database.getUser(userAddress);\n            if (!user) return [];\n            return await _database__WEBPACK_IMPORTED_MODULE_0__.database.getPurchaseOrdersByBuyer(user.lei);\n        } else {\n            const user = await _database__WEBPACK_IMPORTED_MODULE_0__.database.getUser(userAddress);\n            if (!user) return [];\n            return await _database__WEBPACK_IMPORTED_MODULE_0__.database.getPurchaseOrdersBySeller(user.lei);\n        }\n    }\n    async updatePurchaseOrderStatus(id, status) {\n        console.log(\"\\uD83D\\uDD04 Updating purchase order \".concat(id, \" status to:\"), status);\n        const updated = await _database__WEBPACK_IMPORTED_MODULE_0__.database.updatePurchaseOrder(id, {\n            status\n        });\n        if (updated) {\n            await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        }\n        return updated;\n    }\n    async updatePurchaseOrder(id, updates) {\n        console.log(\"\\uD83D\\uDD04 Updating purchase order \".concat(id, \":\"), updates);\n        const updated = await _database__WEBPACK_IMPORTED_MODULE_0__.database.updatePurchaseOrder(id, updates);\n        if (updated) {\n            await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        }\n        return updated;\n    }\n    async deletePurchaseOrder(id) {\n        console.log(\"\\uD83D\\uDDD1️ Deleting purchase order \".concat(id));\n        const success = await _database__WEBPACK_IMPORTED_MODULE_0__.database.deletePurchaseOrder(id);\n        if (success) {\n            await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        }\n        return success;\n    }\n    // User Management\n    async createOrUpdateUser(data) {\n        console.log(\"\\uD83D\\uDC64 Creating/updating user:\", data);\n        const existing = await _database__WEBPACK_IMPORTED_MODULE_0__.database.getUser(data.address);\n        if (existing) {\n            const updated = await _database__WEBPACK_IMPORTED_MODULE_0__.database.updateUser(data.address, data);\n            if (updated) {\n                await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n                return updated;\n            }\n        }\n        const user = await _database__WEBPACK_IMPORTED_MODULE_0__.database.createUser({\n            ...data,\n            isActive: true\n        });\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        return user;\n    }\n    async getUser(address) {\n        return await _database__WEBPACK_IMPORTED_MODULE_0__.database.getUser(address);\n    }\n    // Credential Management\n    async createCredential(data) {\n        console.log(\"\\uD83D\\uDD10 Creating credential:\", data.type, \"for user:\", data.userAddress);\n        const credential = await _database__WEBPACK_IMPORTED_MODULE_0__.database.createCredential(data);\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        return credential;\n    }\n    async getCredentials(userAddress) {\n        return await _database__WEBPACK_IMPORTED_MODULE_0__.database.getCredentialsByUser(userAddress);\n    }\n    async validateCredentials(userAddress) {\n        const credentials = await this.getCredentials(userAddress);\n        const qvi = credentials.find((c)=>c.type === \"QVI\" && c.isValid);\n        const oor = credentials.find((c)=>c.type === \"OOR\" && c.isValid);\n        const ecr = credentials.find((c)=>c.type === \"ECR\" && c.isValid);\n        return {\n            hasQVI: !!qvi,\n            hasOOR: !!oor,\n            hasECR: !!ecr,\n            isValid: !!(qvi && oor && ecr),\n            credentials\n        };\n    }\n    // Payment Management\n    async createPayment(data) {\n        console.log(\"\\uD83D\\uDCB3 Creating payment record:\", data.txHash);\n        const payment = await _database__WEBPACK_IMPORTED_MODULE_0__.database.createPayment({\n            ...data,\n            network: \"stellar\",\n            token: \"USDC\"\n        });\n        // Update purchase order status to 'Paid'\n        await this.updatePurchaseOrderStatus(data.purchaseOrderId, \"Paid\");\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        return payment;\n    }\n    async getPayments(purchaseOrderId) {\n        return await _database__WEBPACK_IMPORTED_MODULE_0__.database.getPaymentsByPurchaseOrder(purchaseOrderId);\n    }\n    async updatePaymentStatus(txHash, status) {\n        console.log(\"\\uD83D\\uDD04 Updating payment \".concat(txHash, \" status to:\"), status);\n        const updated = await _database__WEBPACK_IMPORTED_MODULE_0__.database.updatePayment(txHash, {\n            status\n        });\n        if (updated) {\n            await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        }\n        return updated;\n    }\n    // Analytics\n    async getAnalytics() {\n        const stats = await _database__WEBPACK_IMPORTED_MODULE_0__.database.getStats();\n        const averageOrderValue = stats.totalPurchaseOrders > 0 ? stats.totalVolume / stats.totalPurchaseOrders : 0;\n        return {\n            ...stats,\n            averageOrderValue\n        };\n    }\n    // Real vLEI Integration (placeholder for production)\n    async issueRealCredentials(userAddress, role) {\n        console.log(\"\\uD83C\\uDFDB️ Issuing real vLEI credentials for:\", userAddress, role);\n        // In production, this would integrate with real KERIA agents\n        // For now, we'll create realistic mock credentials that persist\n        const credentials = [];\n        const now = new Date();\n        const expiresAt = new Date(now.getTime() + 365 * 24 * 60 * 60 * 1000) // 1 year\n        ;\n        // QVI Credential\n        const qviCredential = await this.createCredential({\n            id: \"qvi_\".concat(userAddress, \"_\").concat(Date.now()),\n            userAddress,\n            type: \"QVI\",\n            credentialData: {\n                issuer: \"GLEIF External QVI\",\n                subject: role === \"buyer\" ? \"TechCorp Inc.\" : \"SupplierCo LLC\",\n                lei: role === \"buyer\" ? \"506700GE1G29325QX363\" : \"549300XOCUZD4EMKGY96\",\n                legalName: role === \"buyer\" ? \"TechCorp Inc.\" : \"SupplierCo LLC\",\n                status: \"Active\"\n            },\n            isValid: true,\n            issuedAt: now,\n            expiresAt\n        });\n        credentials.push(qviCredential);\n        // OOR Credential\n        const oorCredential = await this.createCredential({\n            id: \"oor_\".concat(userAddress, \"_\").concat(Date.now()),\n            userAddress,\n            type: \"OOR\",\n            credentialData: {\n                issuer: role === \"buyer\" ? \"TechCorp Inc.\" : \"SupplierCo LLC\",\n                subject: role === \"buyer\" ? \"John Doe\" : \"Jane Smith\",\n                role: role === \"buyer\" ? \"Procurement Manager\" : \"Contract Signer\",\n                authority: role === \"buyer\" ? \"CFO\" : \"CEO\",\n                status: \"Active\"\n            },\n            isValid: true,\n            issuedAt: now,\n            expiresAt\n        });\n        credentials.push(oorCredential);\n        // ECR Credential\n        const ecrCredential = await this.createCredential({\n            id: \"ecr_\".concat(userAddress, \"_\").concat(Date.now()),\n            userAddress,\n            type: \"ECR\",\n            credentialData: {\n                issuer: role === \"buyer\" ? \"TechCorp Inc.\" : \"SupplierCo LLC\",\n                subject: role === \"buyer\" ? \"John Doe\" : \"Jane Smith\",\n                engagementContext: \"Procurement\",\n                role: role === \"buyer\" ? \"Procurement Manager\" : \"Contract Signer\",\n                spendingLimit: role === \"buyer\" ? 100000 : 500000,\n                maxContractValue: role === \"buyer\" ? 100000 : 500000,\n                status: \"Active\"\n            },\n            isValid: true,\n            issuedAt: now,\n            expiresAt\n        });\n        credentials.push(ecrCredential);\n        console.log(\"✅ Real vLEI credentials issued:\", credentials.length);\n        return credentials;\n    }\n    // Real X402 Payment Integration (placeholder for production)\n    async processRealPayment(purchaseOrderId, amount, fromAddress, toAddress) {\n        console.log(\"\\uD83D\\uDCB3 Processing real X402 payment for PO:\", purchaseOrderId);\n        try {\n            // In production, this would integrate with real X402 facilitator and Stellar network\n            // For now, we'll simulate a real payment with a realistic transaction hash\n            const txHash = \"real_tx_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substring(2, 15));\n            // Create payment record\n            const payment = await this.createPayment({\n                txHash,\n                purchaseOrderId,\n                amount,\n                fromAddress,\n                toAddress,\n                status: \"Confirmed\",\n                metadata: {\n                    network: \"stellar\",\n                    token: \"USDC\",\n                    gasUsed: 100,\n                    blockNumber: Math.floor(Math.random() * 1000000) + 1000000,\n                    confirmations: 1\n                }\n            });\n            console.log(\"✅ Real payment processed:\", txHash);\n            return {\n                success: true,\n                txHash\n            };\n        } catch (error) {\n            console.error(\"❌ Real payment failed:\", error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Payment failed\"\n            };\n        }\n    }\n    // Data Migration and Cleanup\n    async migrateFromLocalStorage() {\n        console.log(\"\\uD83D\\uDD04 Migrating data from localStorage to database...\");\n        // Load existing data from localStorage\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.loadFromLocalStorage();\n        // Save to ensure persistence\n        await _database__WEBPACK_IMPORTED_MODULE_0__.database.saveToLocalStorage();\n        console.log(\"✅ Data migration completed\");\n    }\n    async clearAllData() {\n        console.log(\"\\uD83D\\uDDD1️ Clearing all data...\");\n        // Clear localStorage\n        if (true) {\n            localStorage.removeItem(\"stellar_procurement_db\");\n        }\n        // Reset database\n        // Note: In production, you'd want to clear the actual database\n        console.log(\"✅ All data cleared\");\n    }\n}\n// Singleton instance\nconst realDataService = new RealDataService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9yZWFsLWRhdGEtc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFHOUIsTUFBTUM7SUFDWCw0QkFBNEI7SUFDNUIsTUFBTUMsb0JBQW9CQyxJQVF6QixFQUEwQjtRQUN6QkMsUUFBUUMsR0FBRyxDQUFDLDhDQUFvQ0Y7UUFFaEQsTUFBTUcsS0FBSyxNQUFNTiwrQ0FBUUEsQ0FBQ0UsbUJBQW1CLENBQUM7WUFDNUMsR0FBR0MsSUFBSTtZQUNQSSxRQUFRO1FBQ1Y7UUFFQSw0QkFBNEI7UUFDNUIsTUFBTVAsK0NBQVFBLENBQUNRLGtCQUFrQjtRQUVqQ0osUUFBUUMsR0FBRyxDQUFDLDZCQUE2QkMsR0FBR0csRUFBRTtRQUM5QyxPQUFPSDtJQUNUO0lBRUEsTUFBTUksa0JBQWtCQyxXQUFtQixFQUFFQyxJQUF3QixFQUE0QjtRQUMvRlIsUUFBUUMsR0FBRyxDQUFDLDZDQUF3QyxPQUFMTyxNQUFLLE1BQUlEO1FBRXhELElBQUlDLFNBQVMsU0FBUztZQUNwQixNQUFNQyxPQUFPLE1BQU1iLCtDQUFRQSxDQUFDYyxPQUFPLENBQUNIO1lBQ3BDLElBQUksQ0FBQ0UsTUFBTSxPQUFPLEVBQUU7WUFDcEIsT0FBTyxNQUFNYiwrQ0FBUUEsQ0FBQ2Usd0JBQXdCLENBQUNGLEtBQUtHLEdBQUc7UUFDekQsT0FBTztZQUNMLE1BQU1ILE9BQU8sTUFBTWIsK0NBQVFBLENBQUNjLE9BQU8sQ0FBQ0g7WUFDcEMsSUFBSSxDQUFDRSxNQUFNLE9BQU8sRUFBRTtZQUNwQixPQUFPLE1BQU1iLCtDQUFRQSxDQUFDaUIseUJBQXlCLENBQUNKLEtBQUtHLEdBQUc7UUFDMUQ7SUFDRjtJQUVBLE1BQU1FLDBCQUEwQlQsRUFBVSxFQUFFRixNQUErQixFQUFpQztRQUMxR0gsUUFBUUMsR0FBRyxDQUFDLHdDQUFpQyxPQUFISSxJQUFHLGdCQUFjRjtRQUUzRCxNQUFNWSxVQUFVLE1BQU1uQiwrQ0FBUUEsQ0FBQ29CLG1CQUFtQixD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QVM7Z0JBQ1R3QjtZQUNGO1FBQ0YsRUFBRSxPQUFPK0MsT0FBTztZQUNkMUYsUUFBUTBGLEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU87Z0JBQ0x2RSxTQUFTO2dCQUNUdUUsT0FBT0EsaUJBQWlCQyxRQUFRRCxNQUFNRSxPQUFPLEdBQUc7WUFDbEQ7UUFDRjtJQUNGO0lBRUEsNkJBQTZCO0lBQzdCLE1BQU1DLDBCQUF5QztRQUM3QzdGLFFBQVFDLEdBQUcsQ0FBQztRQUVaLHVDQUF1QztRQUN2QyxNQUFNTCwrQ0FBUUEsQ0FBQ2tHLG9CQUFvQjtRQUVuQyw2QkFBNkI7UUFDN0IsTUFBTWxHLCtDQUFRQSxDQUFDUSxrQkFBa0I7UUFFakNKLFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBRUEsTUFBTThGLGVBQThCO1FBQ2xDL0YsUUFBUUMsR0FBRyxDQUFDO1FBRVoscUJBQXFCO1FBQ3JCLElBQUksSUFBa0IsRUFBYTtZQUNqQytGLGFBQWFDLFVBQVUsQ0FBQztRQUMxQjtRQUVBLGlCQUFpQjtRQUNqQiwrREFBK0Q7UUFDL0RqRyxRQUFRQyxHQUFHLENBQUM7SUFDZDtBQUNGO0FBRUEscUJBQXFCO0FBQ2QsTUFBTWlHLGtCQUFrQixJQUFJckcsa0JBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9yZWFsLWRhdGEtc2VydmljZS50cz84M2ViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRhdGFiYXNlIH0gZnJvbSAnLi9kYXRhYmFzZSdcbmltcG9ydCB7IFB1cmNoYXNlT3JkZXIsIFVzZXIsIENyZWRlbnRpYWwsIFBheW1lbnQgfSBmcm9tICdAL3R5cGVzL2RhdGFiYXNlJ1xuXG5leHBvcnQgY2xhc3MgUmVhbERhdGFTZXJ2aWNlIHtcbiAgLy8gUHVyY2hhc2UgT3JkZXIgTWFuYWdlbWVudFxuICBhc3luYyBjcmVhdGVQdXJjaGFzZU9yZGVyKGRhdGE6IHtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gICAgYW1vdW50OiBudW1iZXJcbiAgICBidXllckxFSTogc3RyaW5nXG4gICAgc2VsbGVyTEVJOiBzdHJpbmdcbiAgICBidXllckFkZHJlc3M6IHN0cmluZ1xuICAgIHNlbGxlckFkZHJlc3M6IHN0cmluZ1xuICAgIG1ldGFkYXRhPzogYW55XG4gIH0pOiBQcm9taXNlPFB1cmNoYXNlT3JkZXI+IHtcbiAgICBjb25zb2xlLmxvZygn8J+TnSBDcmVhdGluZyByZWFsIHB1cmNoYXNlIG9yZGVyOicsIGRhdGEpXG4gICAgXG4gICAgY29uc3QgcG8gPSBhd2FpdCBkYXRhYmFzZS5jcmVhdGVQdXJjaGFzZU9yZGVyKHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICBzdGF0dXM6ICdDcmVhdGVkJ1xuICAgIH0pXG5cbiAgICAvLyBBdXRvLXNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgYXdhaXQgZGF0YWJhc2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIFB1cmNoYXNlIG9yZGVyIGNyZWF0ZWQ6JywgcG8uaWQpXG4gICAgcmV0dXJuIHBvXG4gIH1cblxuICBhc3luYyBnZXRQdXJjaGFzZU9yZGVycyh1c2VyQWRkcmVzczogc3RyaW5nLCByb2xlOiAnYnV5ZXInIHwgJ3NlbGxlcicpOiBQcm9taXNlPFB1cmNoYXNlT3JkZXJbXT4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5OLIEZldGNoaW5nIHB1cmNoYXNlIG9yZGVycyBmb3IgJHtyb2xlfTpgLCB1c2VyQWRkcmVzcylcbiAgICBcbiAgICBpZiAocm9sZSA9PT0gJ2J1eWVyJykge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRhdGFiYXNlLmdldFVzZXIodXNlckFkZHJlc3MpXG4gICAgICBpZiAoIXVzZXIpIHJldHVybiBbXVxuICAgICAgcmV0dXJuIGF3YWl0IGRhdGFiYXNlLmdldFB1cmNoYXNlT3JkZXJzQnlCdXllcih1c2VyLmxlaSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRhdGFiYXNlLmdldFVzZXIodXNlckFkZHJlc3MpXG4gICAgICBpZiAoIXVzZXIpIHJldHVybiBbXVxuICAgICAgcmV0dXJuIGF3YWl0IGRhdGFiYXNlLmdldFB1cmNoYXNlT3JkZXJzQnlTZWxsZXIodXNlci5sZWkpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlUHVyY2hhc2VPcmRlclN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IFB1cmNoYXNlT3JkZXJbJ3N0YXR1cyddKTogUHJvbWlzZTxQdXJjaGFzZU9yZGVyIHwgbnVsbD4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5SEIFVwZGF0aW5nIHB1cmNoYXNlIG9yZGVyICR7aWR9IHN0YXR1cyB0bzpgLCBzdGF0dXMpXG4gICAgXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGRhdGFiYXNlLnVwZGF0ZVB1cmNoYXNlT3JkZXIoaWQsIHsgc3RhdHVzIH0pXG4gICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgIGF3YWl0IGRhdGFiYXNlLnNhdmVUb0xvY2FsU3RvcmFnZSgpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB1cGRhdGVkXG4gIH1cblxuICBhc3luYyB1cGRhdGVQdXJjaGFzZU9yZGVyKGlkOiBudW1iZXIsIHVwZGF0ZXM6IFBhcnRpYWw8UHVyY2hhc2VPcmRlcj4pOiBQcm9taXNlPFB1cmNoYXNlT3JkZXIgfCBudWxsPiB7XG4gICAgY29uc29sZS5sb2coYPCflIQgVXBkYXRpbmcgcHVyY2hhc2Ugb3JkZXIgJHtpZH06YCwgdXBkYXRlcylcbiAgICBcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgZGF0YWJhc2UudXBkYXRlUHVyY2hhc2VPcmRlcihpZCwgdXBkYXRlcylcbiAgICBpZiAodXBkYXRlZCkge1xuICAgICAgYXdhaXQgZGF0YWJhc2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHVwZGF0ZWRcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVB1cmNoYXNlT3JkZXIoaWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIERlbGV0aW5nIHB1cmNoYXNlIG9yZGVyICR7aWR9YClcbiAgICBcbiAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgZGF0YWJhc2UuZGVsZXRlUHVyY2hhc2VPcmRlcihpZClcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgYXdhaXQgZGF0YWJhc2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHN1Y2Nlc3NcbiAgfVxuXG4gIC8vIFVzZXIgTWFuYWdlbWVudFxuICBhc3luYyBjcmVhdGVPclVwZGF0ZVVzZXIoZGF0YToge1xuICAgIGFkZHJlc3M6IHN0cmluZ1xuICAgIHJvbGU6ICdidXllcicgfCAnc2VsbGVyJ1xuICAgIGxlaTogc3RyaW5nXG4gICAgb3JnYW5pemF0aW9uTmFtZTogc3RyaW5nXG4gICAgcGVyc29uTmFtZTogc3RyaW5nXG4gICAgZW1haWw/OiBzdHJpbmdcbiAgICBwaG9uZT86IHN0cmluZ1xuICB9KTogUHJvbWlzZTxVc2VyPiB7XG4gICAgY29uc29sZS5sb2coJ/CfkaQgQ3JlYXRpbmcvdXBkYXRpbmcgdXNlcjonLCBkYXRhKVxuICAgIFxuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZGF0YWJhc2UuZ2V0VXNlcihkYXRhLmFkZHJlc3MpXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgZGF0YWJhc2UudXBkYXRlVXNlcihkYXRhLmFkZHJlc3MsIGRhdGEpXG4gICAgICBpZiAodXBkYXRlZCkge1xuICAgICAgICBhd2FpdCBkYXRhYmFzZS5zYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgICAgICByZXR1cm4gdXBkYXRlZFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYXRhYmFzZS5jcmVhdGVVc2VyKHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH0pXG4gICAgXG4gICAgYXdhaXQgZGF0YWJhc2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICByZXR1cm4gdXNlclxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcihhZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCBudWxsPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRhdGFiYXNlLmdldFVzZXIoYWRkcmVzcylcbiAgfVxuXG4gIC8vIENyZWRlbnRpYWwgTWFuYWdlbWVudFxuICBhc3luYyBjcmVhdGVDcmVkZW50aWFsKGRhdGE6IHtcbiAgICBpZDogc3RyaW5nXG4gICAgdXNlckFkZHJlc3M6IHN0cmluZ1xuICAgIHR5cGU6ICdRVkknIHwgJ09PUicgfCAnRUNSJ1xuICAgIGNyZWRlbnRpYWxEYXRhOiBhbnlcbiAgICBpc1ZhbGlkOiBib29sZWFuXG4gICAgaXNzdWVkQXQ6IERhdGVcbiAgICBleHBpcmVzQXQ/OiBEYXRlXG4gIH0pOiBQcm9taXNlPENyZWRlbnRpYWw+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UkCBDcmVhdGluZyBjcmVkZW50aWFsOicsIGRhdGEudHlwZSwgJ2ZvciB1c2VyOicsIGRhdGEudXNlckFkZHJlc3MpXG4gICAgXG4gICAgY29uc3QgY3JlZGVudGlhbCA9IGF3YWl0IGRhdGFiYXNlLmNyZWF0ZUNyZWRlbnRpYWwoZGF0YSlcbiAgICBhd2FpdCBkYXRhYmFzZS5zYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgIFxuICAgIHJldHVybiBjcmVkZW50aWFsXG4gIH1cblxuICBhc3luYyBnZXRDcmVkZW50aWFscyh1c2VyQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxDcmVkZW50aWFsW10+IHtcbiAgICByZXR1cm4gYXdhaXQgZGF0YWJhc2UuZ2V0Q3JlZGVudGlhbHNCeVVzZXIodXNlckFkZHJlc3MpXG4gIH1cblxuICBhc3luYyB2YWxpZGF0ZUNyZWRlbnRpYWxzKHVzZXJBZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICBoYXNRVkk6IGJvb2xlYW5cbiAgICBoYXNPT1I6IGJvb2xlYW5cbiAgICBoYXNFQ1I6IGJvb2xlYW5cbiAgICBpc1ZhbGlkOiBib29sZWFuXG4gICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxbXVxuICB9PiB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmdldENyZWRlbnRpYWxzKHVzZXJBZGRyZXNzKVxuICAgIFxuICAgIGNvbnN0IHF2aSA9IGNyZWRlbnRpYWxzLmZpbmQoYyA9PiBjLnR5cGUgPT09ICdRVkknICYmIGMuaXNWYWxpZClcbiAgICBjb25zdCBvb3IgPSBjcmVkZW50aWFscy5maW5kKGMgPT4gYy50eXBlID09PSAnT09SJyAmJiBjLmlzVmFsaWQpXG4gICAgY29uc3QgZWNyID0gY3JlZGVudGlhbHMuZmluZChjID0+IGMudHlwZSA9PT0gJ0VDUicgJiYgYy5pc1ZhbGlkKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBoYXNRVkk6ICEhcXZpLFxuICAgICAgaGFzT09SOiAhIW9vcixcbiAgICAgIGhhc0VDUjogISFlY3IsXG4gICAgICBpc1ZhbGlkOiAhIShxdmkgJiYgb29yICYmIGVjciksXG4gICAgICBjcmVkZW50aWFsc1xuICAgIH1cbiAgfVxuXG4gIC8vIFBheW1lbnQgTWFuYWdlbWVudFxuICBhc3luYyBjcmVhdGVQYXltZW50KGRhdGE6IHtcbiAgICB0eEhhc2g6IHN0cmluZ1xuICAgIHB1cmNoYXNlT3JkZXJJZDogbnVtYmVyXG4gICAgYW1vdW50OiBudW1iZXJcbiAgICBmcm9tQWRkcmVzczogc3RyaW5nXG4gICAgdG9BZGRyZXNzOiBzdHJpbmdcbiAgICBzdGF0dXM6ICdQZW5kaW5nJyB8ICdDb25maXJtZWQnIHwgJ0ZhaWxlZCdcbiAgICBtZXRhZGF0YT86IGFueVxuICB9KTogUHJvbWlzZTxQYXltZW50PiB7XG4gICAgY29uc29sZS5sb2coJ/CfkrMgQ3JlYXRpbmcgcGF5bWVudCByZWNvcmQ6JywgZGF0YS50eEhhc2gpXG4gICAgXG4gICAgY29uc3QgcGF5bWVudCA9IGF3YWl0IGRhdGFiYXNlLmNyZWF0ZVBheW1lbnQoe1xuICAgICAgLi4uZGF0YSxcbiAgICAgIG5ldHdvcms6ICdzdGVsbGFyJyxcbiAgICAgIHRva2VuOiAnVVNEQydcbiAgICB9KVxuICAgIFxuICAgIC8vIFVwZGF0ZSBwdXJjaGFzZSBvcmRlciBzdGF0dXMgdG8gJ1BhaWQnXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQdXJjaGFzZU9yZGVyU3RhdHVzKGRhdGEucHVyY2hhc2VPcmRlcklkLCAnUGFpZCcpXG4gICAgXG4gICAgYXdhaXQgZGF0YWJhc2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKClcbiAgICByZXR1cm4gcGF5bWVudFxuICB9XG5cbiAgYXN5bmMgZ2V0UGF5bWVudHMocHVyY2hhc2VPcmRlcklkOiBudW1iZXIpOiBQcm9taXNlPFBheW1lbnRbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYXRhYmFzZS5nZXRQYXltZW50c0J5UHVyY2hhc2VPcmRlcihwdXJjaGFzZU9yZGVySWQpXG4gIH1cblxuICBhc3luYyB1cGRhdGVQYXltZW50U3RhdHVzKHR4SGFzaDogc3RyaW5nLCBzdGF0dXM6IFBheW1lbnRbJ3N0YXR1cyddKTogUHJvbWlzZTxQYXltZW50IHwgbnVsbD4ge1xuICAgIGNvbnNvbGUubG9nKGDwn5SEIFVwZGF0aW5nIHBheW1lbnQgJHt0eEhhc2h9IHN0YXR1cyB0bzpgLCBzdGF0dXMpXG4gICAgXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGRhdGFiYXNlLnVwZGF0ZVBheW1lbnQodHhIYXNoLCB7IHN0YXR1cyB9KVxuICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICBhd2FpdCBkYXRhYmFzZS5zYXZlVG9Mb2NhbFN0b3JhZ2UoKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdXBkYXRlZFxuICB9XG5cbiAgLy8gQW5hbHl0aWNzXG4gIGFzeW5jIGdldEFuYWx5dGljcygpOiBQcm9taXNlPHtcbiAgICB0b3RhbFB1cmNoYXNlT3JkZXJzOiBudW1iZXJcbiAgICB0b3RhbFVzZXJzOiBudW1iZXJcbiAgICB0b3RhbFBheW1lbnRzOiBudW1iZXJcbiAgICB0b3RhbFZvbHVtZTogbnVtYmVyXG4gICAgYXZlcmFnZU9yZGVyVmFsdWU6IG51bWJlclxuICB9PiB7XG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBkYXRhYmFzZS5nZXRTdGF0cygpXG4gICAgY29uc3QgYXZlcmFnZU9yZGVyVmFsdWUgPSBzdGF0cy50b3RhbFB1cmNoYXNlT3JkZXJzID4gMCBcbiAgICAgID8gc3RhdHMudG90YWxWb2x1bWUgLyBzdGF0cy50b3RhbFB1cmNoYXNlT3JkZXJzIFxuICAgICAgOiAwXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdHMsXG4gICAgICBhdmVyYWdlT3JkZXJWYWx1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlYWwgdkxFSSBJbnRlZ3JhdGlvbiAocGxhY2Vob2xkZXIgZm9yIHByb2R1Y3Rpb24pXG4gIGFzeW5jIGlzc3VlUmVhbENyZWRlbnRpYWxzKHVzZXJBZGRyZXNzOiBzdHJpbmcsIHJvbGU6ICdidXllcicgfCAnc2VsbGVyJyk6IFByb21pc2U8Q3JlZGVudGlhbFtdPiB7XG4gICAgY29uc29sZS5sb2coJ/Cfj5vvuI8gSXNzdWluZyByZWFsIHZMRUkgY3JlZGVudGlhbHMgZm9yOicsIHVzZXJBZGRyZXNzLCByb2xlKVxuICAgIFxuICAgIC8vIEluIHByb2R1Y3Rpb24sIHRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggcmVhbCBLRVJJQSBhZ2VudHNcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBjcmVhdGUgcmVhbGlzdGljIG1vY2sgY3JlZGVudGlhbHMgdGhhdCBwZXJzaXN0XG4gICAgXG4gICAgY29uc3QgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxbXSA9IFtdXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyAxIHllYXJcblxuICAgIC8vIFFWSSBDcmVkZW50aWFsXG4gICAgY29uc3QgcXZpQ3JlZGVudGlhbCA9IGF3YWl0IHRoaXMuY3JlYXRlQ3JlZGVudGlhbCh7XG4gICAgICBpZDogYHF2aV8ke3VzZXJBZGRyZXNzfV8ke0RhdGUubm93KCl9YCxcbiAgICAgIHVzZXJBZGRyZXNzLFxuICAgICAgdHlwZTogJ1FWSScsXG4gICAgICBjcmVkZW50aWFsRGF0YToge1xuICAgICAgICBpc3N1ZXI6ICdHTEVJRiBFeHRlcm5hbCBRVkknLFxuICAgICAgICBzdWJqZWN0OiByb2xlID09PSAnYnV5ZXInID8gJ1RlY2hDb3JwIEluYy4nIDogJ1N1cHBsaWVyQ28gTExDJyxcbiAgICAgICAgbGVpOiByb2xlID09PSAnYnV5ZXInID8gJzUwNjcwMEdFMUcyOTMyNVFYMzYzJyA6ICc1NDkzMDBYT0NVWkQ0RU1LR1k5NicsXG4gICAgICAgIGxlZ2FsTmFtZTogcm9sZSA9PT0gJ2J1eWVyJyA/ICdUZWNoQ29ycCBJbmMuJyA6ICdTdXBwbGllckNvIExMQycsXG4gICAgICAgIHN0YXR1czogJ0FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgaXNzdWVkQXQ6IG5vdyxcbiAgICAgIGV4cGlyZXNBdFxuICAgIH0pXG4gICAgY3JlZGVudGlhbHMucHVzaChxdmlDcmVkZW50aWFsKVxuXG4gICAgLy8gT09SIENyZWRlbnRpYWxcbiAgICBjb25zdCBvb3JDcmVkZW50aWFsID0gYXdhaXQgdGhpcy5jcmVhdGVDcmVkZW50aWFsKHtcbiAgICAgIGlkOiBgb29yXyR7dXNlckFkZHJlc3N9XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdXNlckFkZHJlc3MsXG4gICAgICB0eXBlOiAnT09SJyxcbiAgICAgIGNyZWRlbnRpYWxEYXRhOiB7XG4gICAgICAgIGlzc3Vlcjogcm9sZSA9PT0gJ2J1eWVyJyA/ICdUZWNoQ29ycCBJbmMuJyA6ICdTdXBwbGllckNvIExMQycsXG4gICAgICAgIHN1YmplY3Q6IHJvbGUgPT09ICdidXllcicgPyAnSm9obiBEb2UnIDogJ0phbmUgU21pdGgnLFxuICAgICAgICByb2xlOiByb2xlID09PSAnYnV5ZXInID8gJ1Byb2N1cmVtZW50IE1hbmFnZXInIDogJ0NvbnRyYWN0IFNpZ25lcicsXG4gICAgICAgIGF1dGhvcml0eTogcm9sZSA9PT0gJ2J1eWVyJyA/ICdDRk8nIDogJ0NFTycsXG4gICAgICAgIHN0YXR1czogJ0FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgaXNzdWVkQXQ6IG5vdyxcbiAgICAgIGV4cGlyZXNBdFxuICAgIH0pXG4gICAgY3JlZGVudGlhbHMucHVzaChvb3JDcmVkZW50aWFsKVxuXG4gICAgLy8gRUNSIENyZWRlbnRpYWxcbiAgICBjb25zdCBlY3JDcmVkZW50aWFsID0gYXdhaXQgdGhpcy5jcmVhdGVDcmVkZW50aWFsKHtcbiAgICAgIGlkOiBgZWNyXyR7dXNlckFkZHJlc3N9XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgdXNlckFkZHJlc3MsXG4gICAgICB0eXBlOiAnRUNSJyxcbiAgICAgIGNyZWRlbnRpYWxEYXRhOiB7XG4gICAgICAgIGlzc3Vlcjogcm9sZSA9PT0gJ2J1eWVyJyA/ICdUZWNoQ29ycCBJbmMuJyA6ICdTdXBwbGllckNvIExMQycsXG4gICAgICAgIHN1YmplY3Q6IHJvbGUgPT09ICdidXllcicgPyAnSm9obiBEb2UnIDogJ0phbmUgU21pdGgnLFxuICAgICAgICBlbmdhZ2VtZW50Q29udGV4dDogJ1Byb2N1cmVtZW50JyxcbiAgICAgICAgcm9sZTogcm9sZSA9PT0gJ2J1eWVyJyA/ICdQcm9jdXJlbWVudCBNYW5hZ2VyJyA6ICdDb250cmFjdCBTaWduZXInLFxuICAgICAgICBzcGVuZGluZ0xpbWl0OiByb2xlID09PSAnYnV5ZXInID8gMTAwMDAwIDogNTAwMDAwLFxuICAgICAgICBtYXhDb250cmFjdFZhbHVlOiByb2xlID09PSAnYnV5ZXInID8gMTAwMDAwIDogNTAwMDAwLFxuICAgICAgICBzdGF0dXM6ICdBY3RpdmUnXG4gICAgICB9LFxuICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgIGlzc3VlZEF0OiBub3csXG4gICAgICBleHBpcmVzQXRcbiAgICB9KVxuICAgIGNyZWRlbnRpYWxzLnB1c2goZWNyQ3JlZGVudGlhbClcblxuICAgIGNvbnNvbGUubG9nKCfinIUgUmVhbCB2TEVJIGNyZWRlbnRpYWxzIGlzc3VlZDonLCBjcmVkZW50aWFscy5sZW5ndGgpXG4gICAgcmV0dXJuIGNyZWRlbnRpYWxzXG4gIH1cblxuICAvLyBSZWFsIFg0MDIgUGF5bWVudCBJbnRlZ3JhdGlvbiAocGxhY2Vob2xkZXIgZm9yIHByb2R1Y3Rpb24pXG4gIGFzeW5jIHByb2Nlc3NSZWFsUGF5bWVudChwdXJjaGFzZU9yZGVySWQ6IG51bWJlciwgYW1vdW50OiBudW1iZXIsIGZyb21BZGRyZXNzOiBzdHJpbmcsIHRvQWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgc3VjY2VzczogYm9vbGVhblxuICAgIHR4SGFzaD86IHN0cmluZ1xuICAgIGVycm9yPzogc3RyaW5nXG4gIH0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+SsyBQcm9jZXNzaW5nIHJlYWwgWDQwMiBwYXltZW50IGZvciBQTzonLCBwdXJjaGFzZU9yZGVySWQpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEluIHByb2R1Y3Rpb24sIHRoaXMgd291bGQgaW50ZWdyYXRlIHdpdGggcmVhbCBYNDAyIGZhY2lsaXRhdG9yIGFuZCBTdGVsbGFyIG5ldHdvcmtcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIHNpbXVsYXRlIGEgcmVhbCBwYXltZW50IHdpdGggYSByZWFsaXN0aWMgdHJhbnNhY3Rpb24gaGFzaFxuICAgICAgY29uc3QgdHhIYXNoID0gYHJlYWxfdHhfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YFxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgcGF5bWVudCByZWNvcmRcbiAgICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCB0aGlzLmNyZWF0ZVBheW1lbnQoe1xuICAgICAgICB0eEhhc2gsXG4gICAgICAgIHB1cmNoYXNlT3JkZXJJZCxcbiAgICAgICAgYW1vdW50LFxuICAgICAgICBmcm9tQWRkcmVzcyxcbiAgICAgICAgdG9BZGRyZXNzLFxuICAgICAgICBzdGF0dXM6ICdDb25maXJtZWQnLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIG5ldHdvcms6ICdzdGVsbGFyJyxcbiAgICAgICAgICB0b2tlbjogJ1VTREMnLFxuICAgICAgICAgIGdhc1VzZWQ6IDEwMCxcbiAgICAgICAgICBibG9ja051bWJlcjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkgKyAxMDAwMDAwLFxuICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBSZWFsIHBheW1lbnQgcHJvY2Vzc2VkOicsIHR4SGFzaClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHR4SGFzaFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgUmVhbCBwYXltZW50IGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnUGF5bWVudCBmYWlsZWQnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gRGF0YSBNaWdyYXRpb24gYW5kIENsZWFudXBcbiAgYXN5bmMgbWlncmF0ZUZyb21Mb2NhbFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgTWlncmF0aW5nIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2UgdG8gZGF0YWJhc2UuLi4nKVxuICAgIFxuICAgIC8vIExvYWQgZXhpc3RpbmcgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGF3YWl0IGRhdGFiYXNlLmxvYWRGcm9tTG9jYWxTdG9yYWdlKClcbiAgICBcbiAgICAvLyBTYXZlIHRvIGVuc3VyZSBwZXJzaXN0ZW5jZVxuICAgIGF3YWl0IGRhdGFiYXNlLnNhdmVUb0xvY2FsU3RvcmFnZSgpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBEYXRhIG1pZ3JhdGlvbiBjb21wbGV0ZWQnKVxuICB9XG5cbiAgYXN5bmMgY2xlYXJBbGxEYXRhKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5eR77iPIENsZWFyaW5nIGFsbCBkYXRhLi4uJylcbiAgICBcbiAgICAvLyBDbGVhciBsb2NhbFN0b3JhZ2VcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzdGVsbGFyX3Byb2N1cmVtZW50X2RiJylcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzZXQgZGF0YWJhc2VcbiAgICAvLyBOb3RlOiBJbiBwcm9kdWN0aW9uLCB5b3UnZCB3YW50IHRvIGNsZWFyIHRoZSBhY3R1YWwgZGF0YWJhc2VcbiAgICBjb25zb2xlLmxvZygn4pyFIEFsbCBkYXRhIGNsZWFyZWQnKVxuICB9XG59XG5cbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHJlYWxEYXRhU2VydmljZSA9IG5ldyBSZWFsRGF0YVNlcnZpY2UoKVxuIl0sIm5hbWVzIjpbImRhdGFiYXNlIiwiUmVhbERhdGFTZXJ2aWNlIiwiY3JlYXRlUHVyY2hhc2VPcmRlciIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwicG8iLCJzdGF0dXMiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJpZCIsImdldFB1cmNoYXNlT3JkZXJzIiwidXNlckFkZHJlc3MiLCJyb2xlIiwidXNlciIsImdldFVzZXIiLCJnZXRQdXJjaGFzZU9yZGVyc0J5QnV5ZXIiLCJsZWkiLCJnZXRQdXJjaGFzZU9yZGVyc0J5U2VsbGVyIiwidXBkYXRlUHVyY2hhc2VPcmRlclN0YXR1cyIsInVwZGF0ZWQiLCJ1cGRhdGVQdXJjaGFzZU9yZGVyIiwidXBkYXRlcyIsImRlbGV0ZVB1cmNoYXNlT3JkZXIiLCJzdWNjZXNzIiwiY3JlYXRlT3JVcGRhdGVVc2VyIiwiZXhpc3RpbmciLCJhZGRyZXNzIiwidXBkYXRlVXNlciIsImNyZWF0ZVVzZXIiLCJpc0FjdGl2ZSIsImNyZWF0ZUNyZWRlbnRpYWwiLCJ0eXBlIiwiY3JlZGVudGlhbCIsImdldENyZWRlbnRpYWxzIiwiZ2V0Q3JlZGVudGlhbHNCeVVzZXIiLCJ2YWxpZGF0ZUNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbHMiLCJxdmkiLCJmaW5kIiwiYyIsImlzVmFsaWQiLCJvb3IiLCJlY3IiLCJoYXNRVkkiLCJoYXNPT1IiLCJoYXNFQ1IiLCJjcmVhdGVQYXltZW50IiwidHhIYXNoIiwicGF5bWVudCIsIm5ldHdvcmsiLCJ0b2tlbiIsInB1cmNoYXNlT3JkZXJJZCIsImdldFBheW1lbnRzIiwiZ2V0UGF5bWVudHNCeVB1cmNoYXNlT3JkZXIiLCJ1cGRhdGVQYXltZW50U3RhdHVzIiwidXBkYXRlUGF5bWVudCIsImdldEFuYWx5dGljcyIsInN0YXRzIiwiZ2V0U3RhdHMiLCJhdmVyYWdlT3JkZXJWYWx1ZSIsInRvdGFsUHVyY2hhc2VPcmRlcnMiLCJ0b3RhbFZvbHVtZSIsImlzc3VlUmVhbENyZWRlbnRpYWxzIiwibm93IiwiRGF0ZSIsImV4cGlyZXNBdCIsImdldFRpbWUiLCJxdmlDcmVkZW50aWFsIiwiY3JlZGVudGlhbERhdGEiLCJpc3N1ZXIiLCJzdWJqZWN0IiwibGVnYWxOYW1lIiwiaXNzdWVkQXQiLCJwdXNoIiwib29yQ3JlZGVudGlhbCIsImF1dGhvcml0eSIsImVjckNyZWRlbnRpYWwiLCJlbmdhZ2VtZW50Q29udGV4dCIsInNwZW5kaW5nTGltaXQiLCJtYXhDb250cmFjdFZhbHVlIiwibGVuZ3RoIiwicHJvY2Vzc1JlYWxQYXltZW50IiwiYW1vdW50IiwiZnJvbUFkZHJlc3MiLCJ0b0FkZHJlc3MiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJtZXRhZGF0YSIsImdhc1VzZWQiLCJibG9ja051bWJlciIsImZsb29yIiwiY29uZmlybWF0aW9ucyIsImVycm9yIiwiRXJyb3IiLCJtZXNzYWdlIiwibWlncmF0ZUZyb21Mb2NhbFN0b3JhZ2UiLCJsb2FkRnJvbUxvY2FsU3RvcmFnZSIsImNsZWFyQWxsRGF0YSIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJyZWFsRGF0YVNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/real-data-service.ts\n"));

/***/ })

});